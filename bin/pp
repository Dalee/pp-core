#!/usr/bin/env php
<?php

set_time_limit(0);
ini_set('memory_limit', '512M');
define('BASEPATH', realpath(dirname($_SERVER['PHP_SELF']).'/../../').'/');

$autoload = [
	__DIR__ . '/../../autoload.php',
	__DIR__ . '/../vendor/autoload.php',
	__DIR__ . '/vendor/autoload.php'
];

foreach ($autoload as $file) {
    if (file_exists($file)) {
        define('PP_CORE_COMPOSER_AUTOLOAD', $file);
        break;
    }
}

unset($file);
if (!defined('PP_CORE_COMPOSER_AUTOLOAD')) {
    fwrite(STDERR,
        'You need to set up the project dependencies using the following commands:' . PHP_EOL .
        'wget http://getcomposer.org/composer.phar' . PHP_EOL .
        'php composer.phar install' . PHP_EOL
    );
    exit(1);
}

require PP_CORE_COMPOSER_AUTOLOAD;
PP\ConsoleApplication::start();
